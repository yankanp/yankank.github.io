<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type='text/javascript' src='https://s3.amazonaws.com/mturk-public/externalHIT_v1.js'></script>
<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
<style>

body {
  background-color: black;
}

#mturk_form {
  background-color: black;
  margin: 10px auto;
  font-family: Raleway;
  padding: 20px;
  width: 70%;
  height: 70%;
  min-width: 300px;
   border: 2px solid yellow;
}

h1 {
  text-align: center;  
}

input {
  padding: 10px;
  width: 100%;
  font-size: 17px;
  font-family: Raleway;
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
  display: none;
  color: yellow;
}

button {
  background-color: black;
  color: yellow;
  border: 2px solid yellow;
  padding: 14px 90px;
  font-size: 40px;
  font-family: Raleway;
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: black;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: black;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: black;
}

h1 {
  color: yellow;
  font-size: 45px;
}

p{
color: yellow;
font-size: 30px;
}
</style>

<body>

<form name='mturk_form' method='post' id='mturk_form' action='https://workersandbox.mturk.com/mturk/externalSubmit'>
  <input type='hidden' value='' name='assignmentId' id='assignmentId'/>
  
  <!-- One "tab" for each step in the form: -->
  <div class="tab">
  <h1>Introduction1</h1>
    <p>Thank you for volunteering to participant in "Comparing Layouts for Eye Gaze-based PIN Entry for People with Upper Extremity Impairment" by the ASSET group at The University of Rhode Island.</p>
  </br>
  <p>Please read and review the informed consent form on the following page. If you have any questions or concerns, please contact us before beginning the study. Thank you again for participating!</p>
  </br></br></br>
  <div style="overflow:auto;">
    <div style="float:right;">
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
    </div>
  </div>
  </div>

  <div class="tab">
  <h1>Let’s watch an example video</h1>
  <iframe width=100% height=600 src="https://www.youtube.com/embed/dXl23o6liSA">
  </iframe>
  </br></br></br>
  <div style="overflow:auto;">
    <div style="float:right;">
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
    </div>
  </div>
  </div>

  <div class="tab">
    <iframe width=100% height=700 src="https://yankanp.github.io/#/home">
    </iframe>
    </br></br></br>
    <div style="overflow:auto;">
      <div style="float:right;">
        <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
      </div>
    </div>
  </div>

  <div class="tab">
    <h1>Do you like to continue or try one more time</h1>
    <div style="overflow:auto;">
      <div style="float:center;">
      </br> </br> </br>
        <button type="button" id="prevBtn" onclick="showExVideoAgain()" >View example video again</button>
        <button type="button" id="nextBtn" onclick="nextPrev(1)">Continue</button>
      </br> </br> </br>
      </div>
    </div>
  </div>

  <div class="tab">
    <h1>Let’s watch an example video</h1>
    <iframe width=100% height=600 src="https://www.youtube.com/embed/dXl23o6liSA">
    </iframe>
    </br></br></br>
    <div style="overflow:auto;">
      <div style="float:right;">
        <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
      </div>
    </div>
    </div>

    <div class="tab">
      <iframe width=100% height=700 src="https://yankanp.github.io/#/home">
      </iframe>
      </br></br></br>
      <div style="overflow:auto;">
        <div style="float:right;">
          <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
        </div>
      </div>
    </div>

    <div class="tab">
      <h1>Let’s watch an example video</h1>
      <iframe width=100% height=600 src="https://www.youtube.com/embed/dXl23o6liSA">
      </iframe>
      </br></br></br>
      <div style="overflow:auto;">
        <div style="float:right;">
          <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
        </div>
      </div>
      </div>

      <div class="tab">
        <iframe width=100% height=700 src="https://yankanp.github.io/#/home">
        </iframe>
        </br></br></br>
        <div style="overflow:auto;">
          <div style="float:right;">
		  <input type='hidden' value='testValue' name='testKey' id='testKey'/>
            <p><input type='submit' id='submitButton' value='Submit' /></p></form>
          </div>
        </div>
      </div>
     

 
  <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
</form>

<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  //... and run a function that will display the correct step indicator:
  //fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("mturk_form").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function showExVideoAgain() {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");

  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab =1;

  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}
</script>

</body>
</html>
